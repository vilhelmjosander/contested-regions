var Regions=function(a,b){"use strict";function c(a){if("attachEvent"in window)return!1;g=this,g.elems={containers:[],movers:[]},a=a||{};k.extend(i,a);d()}function d(){j("DOMContentLoaded",e),j("resize",f)}function e(){var a=h.call(document.querySelectorAll("[region-container], [region-flow-into]"))||[];for(var b in a){var c=a[b],d=[];h.call(c.attributes).forEach(function(a){d[a.name]=a.value}),"undefined"==typeof d["region-flow-into"]?g.elems.containers[d["region-container"]]=c:g.elems.movers.push({node:c,breakPoint:d["region-breakpoint"],flowInto:d["region-flow-into"],isMoved:!1,origPrevSibling:c.previousElementSibling,origParent:c.parentNode,priority:b})}f()}function f(){var a=g.elems.movers,b=window.innerWidth,c=g.elems.containers;for(var d in a){var e=a[d],f=parseInt(e.breakPoint,10);!e.isMoved&&f>=b?(e.isMoved=!0,k.appendChild(c[e.flowInto],e.node)):e.isMoved&&b>f&&(e.isMoved=!1,e.origPrevSibling?k.insertAfter(e.origPrevSibling,e.node):k.prependChild(e.origParent,e.node))}}var g,h=Array.prototype.slice,i={version:"0.1"},j=window.addEventListener||window.attachEvent,k={extend:function(a,b){if("object"!=typeof a||"object"!=typeof b)return void console.log("Can only extend objects. Defaults are being used");for(var c in b)a[c]=b[c];return a},appendChild:function(a,b){a.appendChild(b)},prependChild:function(a,b){a.insertBefore(b,a.firstChild)},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},stillExistsInDom:function(a){return document.documentElement.contains(a)}};return{init:c}}(window);"undefined"!=typeof module?module.exports=window.Regions:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Regions});